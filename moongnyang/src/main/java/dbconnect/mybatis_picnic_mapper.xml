<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.picnic.dao.Picnic_DAO">

	<!-- 카테고리별 장소 목록 -->
<!-- 	
	<select id="picnic_search" parameterType="PicnicVo" resultType="int">
		insert into Abandonment_sido(orgCd, orgdownNm) values(#{orgCd} ,#{orgdownNm})
	</select> 
-->
	
	<select id="picnic_Update_Insert" parameterType="picnic" resultType="int">
		MERGE INTO PICNIC_LIST USING DUAL ON (key = #{key})
		WHEN MATCHED THEN UPDATE SET NAME=#{name}, PLACE=#{place}, ROAD_PLACE=#{road_place}, PHONE=#{phone}, X=#{x}, Y=#{y}, CATEGORY=#{category}
		WHEN NOT MATCHED THEN INSERT(NAME, PLACE, ROAD_PLACE, PHONE, X, Y, KEY, CATEGORY) VALUES(#{name}, #{place}, #{road_place}, #{phone}, #{x}, #{y}, #{key}, #{category})
	</select>
	
	<select id="picnic_Select" parameterType="String" resultType="com.picnic.dto.PicnicVO">
		SELECT * FROM PICNIC_LIST WHERE KEY=#{key}
	</select>	
</mapper>